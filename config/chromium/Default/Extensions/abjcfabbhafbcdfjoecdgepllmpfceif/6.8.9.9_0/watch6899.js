// Extension for Chrome Browser - Magic Actions for YouTubeâ„¢ - CHROMEACTIONS.COM - Copyright 2016 Vlad and Serge Strukoff - All Rights Reserved
chrome.runtime.sendMessage(32);var frameCapturer,e_script=document.createElement("script"),uniqueEvtName=Math.random().toString(16).slice(2);
e_script.innerHTML='(function(){function Ka(){window.ytplayer&&window.ytplayer.config&&window.ytplayer.config.args?(B=window.ytplayer,fa(window.ytplayer.config.args,!0)):setTimeout(Ka,10)}function La(a){var c=parseInt(a.charAt(0)),b=parseInt(a.slice(1,9),16),t=parseInt(a.slice(9,17),16),h=parseInt(a.slice(17,25),16),f={};f.h0=b>>19&1;f.h1=b>>18&1;f.h2=b>>17&1;f.h3=b>>16&1;f.h4=b>>15&1;f.h5=b>>14&1;f.h6=b>>13&1;f.h7=b>>12&1;f.h8=b>>11&1;f.a0=b>>10&1;f.a1=b>>9&1;f.a2=b>>8&1;f.a3=b>>7&1;f.a4=b>>6&1;f.a5=b>>5&1;f.c0=b>> 4&1;f.c1=b>>3&1;f.c2=b>>2&1;f.c3=b>>1&1;f.c4=b&1;f.ui=t>>25&1;f.wide=t>>24&1;f.ww=t>>23&1;f.mwvc=t>>22&1;f.color="red LightPink orange lime GreenYellow yellow gold DodgerBlue aqua magenta DeepPink white".split(" ")[t>>18&15];f.mwvct=t>>17&1;f.mwvci=t>>15&3;f.gap=t>>10&31;f.pause=t>>9&1;f.plist=t>>8&1;f.buf=t>>7&1;f.buf1=t>>6&1;f.loop=t>>5&1;f.hide=t>>4&1;f.ha=t>>3&1;f.anns=t>>2&1;f.pt=t>>1&1;f.pti=t&1;ga=f.loop;f.mrl=h>>18&1;f.f0=h>>17&1;f.hq=h>>16&1;f.hqi="highres hd2880 hd2160 hd1440 hd1080 hd720 large medium small tiny".split(" ")[h>> 12&15];f.cin=h>>11&1;f.cina=h>>10&1;f.cini=h>>8&3;f.cinf=h>>7&1;f.cinc=h&63;N=a.slice(25,77);62<f.cinc&&(f.cins=a.slice(77));if(c)d=f,Ma(),qa(),Na(),a={id:689,opt:d},(c=document.querySelector(\'iframe[src*="widget/render/comments"]\'))&&c.contentWindow.postMessage(JSON.stringify(a),"*"),(a=m(e[0]))?a.style.setProperty("display",d.a0&&d.a4?"block":"none",g):d.a0&&d.a4&&Oa(),Pa&&ra(),Qa(),d.mrl?C||(C=new Ra):C&&(C.uninit(),delete C,C=null);else if(!d){d=f;for(a=0;32>a;++a)e.push(Math.random().toString(36).replace(/^0\\.[0-9]*/, ""));Ma();qa();Na();Pa&&(sa(1),lb());window.addEventListener("load",mb,!1)}}function Na(){document.cookie&&(d.wide&&(document.cookie="wide=1; max-age=22592000; path=/; domain=youtube.com"),d.ww?document.cookie="s_gl=1d69aac621b2f9c0a25dade722d6e24bcwIAAABVUw==; max-age=22592000; path=/; domain=youtube.com":-1<document.cookie.indexOf("s_gl=1d69aac621b2f9c0")&&(document.cookie="s_gl=1d69aac621b2f9c0a25dade722d6e24bcwIAAABVUw==; max-age=0; path=/; domain=youtube.com"))}function sa(a){if(document.embeds.length)for(var c= document.embeds,b=c.length,d,h=0;h<b;++h)d=c[h],"application/x-shockwave-flash"===d.type&&d.id&&-1<d.id.indexOf("player")&&!d.mafy?(d.mafy=!0,nb(d)):na=setTimeout(sa,a,a+1);else na=setTimeout(sa,a,a+1)}function lb(){F&&-1<document.location.hash.indexOf("t=0")&&(document.location.hash="");var a=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(){if("click"==arguments[0]){var c=this.classList;/ytp-button-prev|ytp-prev-button/.test(c)?arguments[1]=Sa:/ytp-button-next|ytp-next-button/.test(c)&& (arguments[1]=Sa)}a.apply(this,arguments)};var c=HTMLMediaElement.prototype.canPlayType;HTMLMediaElement.prototype.canPlayType=function(){if(F&&d.pt&&!d.pti)return!1;F||Ta();return c.apply(this,arguments)};var b=HTMLMediaElement.prototype.load;HTMLMediaElement.prototype.load=function(){F&&d.pt&&!d.pti||(F?Ua():setTimeout(Ua,1E3));b.apply(this,arguments);HTMLMediaElement.prototype.load=b};var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){Va||ob(this);t.apply(this,arguments)}} function Ua(){if(k=document.querySelector(F?"#movie_player":"#c4-player"))ra(),F&&setTimeout(ta,0)}function pb(a){W&&k&&k.pauseVideo();W=!1}function ob(a){Va=!0;F&&(W&&a.addEventListener("playing",pb,!1),O&&(clearTimeout(O),O=0),O=setTimeout(ua,3E3));a.addEventListener("timeupdate",qb,!1);d.anns&&setTimeout(function(){var a=document.querySelectorAll(".html5-video-controls .ytp-menu .ytp-button");if(a&&0<a.length)for(var b=0,d=a.length;b<d;b++)"OFF"===a[b].textContent&&a[b].click()},2E3);na&&(tm=clearTimeout(na))} function Sa(a){a.stopPropagation();a=this.classList.contains("ytp-button-prev");var c=k.getPlaylist(),b=c.length,d=k.getVideoData(),h=c.indexOf(d.video_id),f=k.getVideoUrl();a?(h--,0>h&&(h=b-1)):(h++,h>=b&&(h=0));window.location.href=f.replace(d.video_id,c[h])}function qb(a){a=a.target;a.currentTime>a.duration-1&&(ga?(k.seekTo(0),k.playVideo()):ba?d.pause&&!1==d.plist&&k.pauseVideo():(a=Wa())&&0<a.offsetWidth&&(a=document.querySelector(".thumb-link"))&&a.click())}function nb(a){function c(){k.getPlayerState? (k.addEventListener("onStateChange","__689ps_"),ra(),F&&(ta(),O&&(clearTimeout(O),O=0),O=setTimeout(ua,3E3))):setTimeout(c,50)}if(F&&d.pt&&d.pti)a.style.display="none";else if(k=a,F&&B)c();else if(Ta())c();else if(d&&(d.hide||d.ha||d.hq||d.anns||d.pause||d.buf)){a.style.setProperty("visibility","hidden",g);a.style.setProperty("display","none",g);if(a.attributes&&a.attributes.flashvars){var b=rb(a.attributes.flashvars.value);fa(b);a.attributes.flashvars.value=sb(b)}setTimeout(function(){a.removeAttribute("wmode"); a.style.setProperty("display","block",g);a.style.setProperty("visibility","visible",g);c()},0)}else c()}function Xa(){k.getCurrentTime()>=k.getDuration()-1?Ya():setTimeout(Xa,350)}function Ya(){ga?setTimeout(function(){k.seekTo(0);k.playVideo()},0):ba&&d.pause&&!1==d.plist&&k.pauseVideo()}function Ta(){var a=document.getElementById("upsell-video"),c;return a?(c=a.getAttribute("data-swf-config"),c=JSON.parse(c.replace(/&quot;/g,\'"\')),fa(c.args),d.pause&&(c.args.autoplay=0),c=JSON.stringify(c).replace(/"/g, "&quot;"),a.setAttribute("data-swf-config",c),!0):!1}function va(a){if(!a.adaptive_fmts)return[];for(var c=a.adaptive_fmts.split(","),b,d=[],h=[],f=0,g=c.length;f<g;f++)b=c[f],b.match(/webm/)||(d.push(b),b.match(/type=video/)&&(b=b.match(/[0-9]+x[0-9]+/g))&&h.push(b[0]));return 2<d.length?(a.adaptive_fmts=d.join(","),h):[]}function Za(a){if(!a.adaptive_fmts)return[];a=a.adaptive_fmts.split(",");for(var c,b=[],d=0,h=a.length;d<h;d++)c=a[d],c.match(/webm/)&&c.match(/type=video/)&&(c=c.match(/[0-9]+x[0-9]+/g))&& b.push(c[0]);return b}function fa(a,c){if(!xa){xa=!xa;ba=a.list;d.ha&&(delete a.ad_module,delete a.ad2_module,delete a.ad3_module,delete a.ad_channel_code_instream,delete a.ad_channel_code_overlay,delete a.ad_device,delete a.ad_eurl,delete a.ad_flags,delete a.ad_host,delete a.ad_host_tier,delete a.ad_logging_flag,delete a.ad_preroll,delete a.ad_slots,delete a.ad_tag,delete a.ad_type,delete a.ad_video_pub_id,delete a.adsense_video_doc_id,delete a.advideo,delete a.aftv,delete a.afv,delete a.afv_ad_tag, delete a.afv_ad_tag_restricted_to_instream,delete a.afv_inslate_ad_tag,delete a.afv_instream_max,delete a.afv_video_min_cpm,delete a.afv_invideo_ad_tag,delete a.allow_html5_ads,delete a.allowed_ads,delete a.as_launched_in_country,delete a.baseUrl,delete a.cafe_experiment_id,delete a.cc_asr,delete a.dynamic_allocation_ad_tag,delete a.max_dynamic_allocation_ad_tag_length,delete a.max_ad_duration,delete a.prefetch_ad_live_stream,delete a.pyv_ad_channel,delete a.rmktEnabled,delete a.use_meta_ad_player); n&&F&&(a.el="embedded",a.enablesizebutton=!0,a.autoplay=1,a.rel=0);a.enablejsapi=0;d.ww&&(a.cr="US",a.hl="en_US",a.host_language="en");if(d.hq)if(n){var b;("tiny"==d.hqi||d.a0&&d.a5)&&a.adaptive_fmts?(b=va(a),1>b.length&&(b=Za(a))):(b=Za(a),1>b.length&&(b=va(a)));if(1>b.length)a.suggestedQuality=a.vq=d.hqi;else{for(var t,h,f={tiny:144,small:240,medium:360,large:480,hd720:720,hd1080:1080,hd1440:1440,hd2160:2160,hd2880:2880,highres:4320}[d.hqi],g,e=0,u=b.length;e<u;e++)if(g=b[e].split("x")[1],f>=g){t= b[e];h=d.hqi;break}t&&(a.video_container_override=t);a.suggestedQuality=a.vq=h}}else a.suggestedQuality=a.vq=d.hqi;else n&&d.a0&&d.a5&&a.adaptive_fmts&&va(a);d.hide&&(a.autohide=1);d.anns&&(a.iv_load_policy=3);c?W=!0:d.buf?(a.autoplay=1,delete a.ad_preroll,a.live_playback||a.livestream?a.autoplay=1:(delete a.dashmpd,a.tsp_buffer=569228273678),d.pause&&(W=!0)):d.pause&&(a.autoplay=0,n&&(za=!0));ba&&a.referrer&&0<a.referrer.indexOf(ba)&&(a.start=0,d.plist&&(a.autoplay=1,W=!1,n&&(za=!1)))}}function $a(a){if(window.localStorage){var c= +new Date;window.localStorage["yt-player-volume"]=\'{"data":"{\\\\"volume\\\\":\'+a+\',\\\\"muted\\\\":false}","expiration":\'+(c+2592E3)+\',"creation":\'+c+"}"}}function Aa(a){var c;if("wheel"==a.type)c=parseInt(k.getVolume().toFixed(2)),c=0>a.wheelDelta?c-d.gap:c+d.gap;else if(3==a.which){c=parseInt(k.getVolume().toFixed(2));if(0<a.movementX||0<a.webkitMovementX)c+=d.gap;else if(0>a.movementX||0>a.webkitMovementX)c-=d.gap;else return!0;Ba=!0}else return!0;100<c?c=100:1>c&&(c=0);k.setVolume(c);if(d.mwvci){var b= m("maVol5");b||(b=tb());ca!=d.mwvci&&(ca=d.mwvci,G("onMagicVolume",{id:ca}));1==ca?(b.style.setProperty("top",k.offsetTop+k.offsetHeight-120+"px",g),b.style.setProperty("left",k.offsetLeft+k.offsetWidth/2-100+"px",g),b.style.setProperty("width","236px",g),b.style.setProperty("height","18px",g)):2==ca&&(b.style.setProperty("top",k.offsetTop+12+"px",g),b.style.setProperty("left",k.offsetLeft+18+"px",g),b.style.setProperty("width","96px",g),b.style.setProperty("height","48px",g));G("onMagicVolume",{vol:parseInt(c), color:d.color});R?(clearTimeout(R),R=0):b.style.setProperty("display","block",g);R=setTimeout(function(){b.style.setProperty("display","none",g);clearTimeout(R);R=0;$a(c)},700)}else $a(c);a.preventDefault();a.stopPropagation()}function ub(a){Ba&&(Ba=!1,a.stopPropagation(),a.preventDefault())}function ra(){function a(a){k.parentElement[a]("mousemove",Aa,!0);document[a]("contextmenu",ub,!0)}a("removeEventListener");k.parentElement.removeEventListener("wheel",Aa,!0);d.mwvc&&(1==d.mwvct?a("addEventListener"): k.parentElement.addEventListener("wheel",Aa,!0))}function tb(){var a=document.createElement("iframe");a.id="maVol5";a.setAttribute("scrolling","no");a.setAttribute("frameborder",0);a.setAttribute("allowtransparency","true");a.style.setProperty("z-index",2147483648,g);a.style.setProperty("position","absolute",g);a.style.setProperty(" -webkit-user-select","none",g);a.style.setProperty("display","block",g);a.onload=function(){var a=this.contentDocument;a.open();a.write(\'<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><style type="text/css"> *{margin:0;padding:0;border:0;} body{font-family:Segoe UI,Helvetica,Arial,sans-serif}#txt{width:96px;height:48px;line-height:43px;font-size:48px;text-align:center;text-shadow:1px 1px 4px #000}#box{width:234px;height:16px;background-color:#000;border:solid 1px;cursor:default} #line{width:200px;height:16px;opacity:.75} #vol{width:34px;height:16px;position:absolute;top:0;right:2px;line-height:18px;font-size:14px;font-weight:700;text-align:center}</style><script type="text/javascript">window.parent.addEventListener("onMagicVolume",function(a){a=a.detail;var c=document.getElementById("box"),d=document.getElementById("vol"),e=document.getElementById("line"),b=document.getElementById("txt");1==a.id?(b.style.display="none",c.style.display="block"):2==a.id&&(c.style.display="none",b.style.display="block");b.textContent=d.textContent=a.vol;e.style.width=2*a.vol+"px";c.style.borderColor=e.style.backgroundColor=b.style.color=d.style.color=a.color},!1);document.addEventListener("contextmenu", function(e) { e.preventDefault(); }, !1);\x3c/script></head><body><div id="txt"></div><div id="box"><div id="line"></div><div id="vol"></div></div></body></html>\'); a.close();G("onMagicVolume",{id:ca})};k.parentElement.appendChild(a);return a}function vb(a){a.stopPropagation();k.showVideoInfo&&(k.info?(k.info=0,k.hideVideoInfo()):(k.info=1,k.showVideoInfo()))}function ua(){var a=document.getElementById(e[14]);if(a&&(a.ev||(a.ev=1,a.addEventListener("click",vb,!1)),k&&k.getVideoLoadedFraction)){var c=k.getVideoLoadedFraction(),c=0.99<c?100:parseInt(100*c);a.textContent=isNaN(c)?"":c+"%";100>c?O=setTimeout(ua,3E3):d.buf&&d.buf1&&(new Audio(N+"notify.ogg")).play()}} function rb(a){a=a.split(/&|=/);for(var c={},b=a[0]?0:1,d=a.length;b<d;b+=2)c[a[b]]=a[b+1];return c}function sb(a){var c=l,b;for(b in a)c+=b+"="+a[b]+"&";return c}function G(a,c){var b=document.createEvent("CustomEvent");b.initCustomEvent(a,!1,!1,c);window.dispatchEvent(b)}function Ma(){var a=document.getElementById(e[3]);a||(a=document.createElement("link"),a.setAttribute("rel","stylesheet"),a.id=e[3],document.documentElement.appendChild(a));a.setAttribute("href",N+"themes/"+(d.ui?"night":"day")+ "/theme.css?v=6899")}function wb(a){d.ui++;1<d.ui&&(d.ui=0);G(s,\'{"id":4,"name":"ui","value":\'+d.ui+"}");a.stopPropagation();a.preventDefault()}function Oa(){if(!m(e[0])){var a=document.createElement("div"),c=document.createElement("div");a.id=e[0];a.appendChild(c);document.body.appendChild(a);a.addEventListener("click",wb,!1)}}function qa(){var a=m(e[1]),c=N+"themes/"+(d.ui?"night/":"day/");if(a){var b=a.sheet.cssRules;b[1].style.setProperty("opacity",d.ui,g);b[2].style.setProperty("border-bottom", "1px solid #"+(d.ui?"2e2e2e":"e6e6e6"),g);b[2].style.setProperty("background","#"+(d.ui?"101010":"f1f1f1"),g);for(a=0;9>a;++a)b[8+a].style.setProperty("background-image","url("+c+a+".png)",g);b[17].style.setProperty("background-image","url("+c+"5a.png)",g);b[18].style.setProperty("background-image","url("+c+"6a.png)",g);b[19].style.setProperty("color",d.ui?"#eee":"#000",g);b[20].style.setProperty("display",d.h0&&d.h1?"none":l,g);b[21].style.setProperty("display",d.h0&&d.h2?"none":l,g);b[22].style.setProperty("display", d.h0&&d.h3?"none":l,g);b[23].style.setProperty("display",d.h0&&d.h3?"none":l,g);b[24].style.setProperty("display",d.h0&&d.h4?"none":l,g);b[25].style.setProperty("display",d.h0&&d.h5?"none":l,g);b[26].style.setProperty("display",d.h0&&d.h6?"none":l,g);b[27].style.setProperty("display",d.h0&&d.h7?"none":l,g);b[28].style.setProperty("display",d.h0&&d.h8?"none":l,g);b[29].style.setProperty("min-height",d.h0&&d.h8?"inherit":l,g);b[30].style.setProperty("content",d.a0&&d.a1?"\u2605":l,l);b[30].style.setProperty("margin-left", d.a0&&d.a1?"7px":l,l)}else{a=document.createElement("style");a.setAttribute("type","text/css");a.id=e[1];document.documentElement.appendChild(a);b=a.sheet;a="#"+e[0];b.insertRule(a+"{display:block!important;position:fixed;z-index:2147483646;left:3px;top:7px;width:14px !important;height:34px;background:url("+N+"i/sw.png);overflow:hidden}",0);b.insertRule(a+" div{opacity:"+d.ui+";width:14px;height:34px;background:url("+N+"i/sw.png) -14px 0;-webkit-transition:opacity .4s;transition:opacity .4s}",1); a="#"+e[2];b.insertRule(a+"{display:block!important;z-index:2147483646!important;position:relative;height:40px!important;background:#"+(d.ui?"101010":"f1f1f1")+"!important}",2);b.insertRule(d.pt&&!d.pti?".ytp-error{display:none!important}":"q{}",3);b.insertRule("#progress{display:none!important}",4);a="."+e[4];b.insertRule(a+"{display:block!important;float:left!important;width:50px!important;height:40px!important;line-height:40px!important;background-repeat:no-repeat!important;background-position:50% 50%!important;cursor:pointer;-webkit-user-select:none;opacity:.7;transition:box-shadow .3s ease-out}", 5);b.insertRule(a+":hover{opacity:1;box-shadow:inset 0 -1px 0 #cc181e",6);b.insertRule("#"+e[15]+"{position:absolute;right:0;top:5px;height:20px;width:90px;overflow:hidden}",7);for(a=0;9>a;++a)b.insertRule("#"+e[5+a]+"{background-image:url("+c+a+".png)!important}",8+a);b.insertRule("#"+e[10]+"[on]{background-image:url("+c+"5a.png)!important}",17);b.insertRule("#"+e[11]+"[on]{background-image:url("+c+"6a.png)!important}",18);b.insertRule("#"+e[14]+"{font-weight:bold;margin-left:7px;padding:0 4px;width:auto;color:#"+ (d.ui?"eee":"111")+"cursor:pointer}",19);b.insertRule("#yt-masthead-container{"+(d.h0&&d.h1?"display:none!important}":"}"),20);b.insertRule("#watch7-sidebar-contents{"+(d.h0&&d.h2?"display:none!important}":"}"),21);b.insertRule("#action-panel-details{"+(d.h0&&d.h3?"display:none!important}":"}"),22);b.insertRule("#watch7-action-panels{"+(d.h0&&d.h3?"display:none!important}":"}"),23);b.insertRule("#watch-discussion{"+(d.h0&&d.h4?"display:none!important}":"}"),24);b.insertRule("#guide{"+(d.h0&&d.h5? "display:none!important}":"}"),25);b.insertRule("#footer-container{"+(d.h0&&d.h6?"display:none!important}":"}"),26);b.insertRule("#ticker,#alerts,.yt-consent{"+(d.h0&&d.h7?"display:none!important}":"}"),27);b.insertRule("#watch7-user-header > a,#watch7-user-header > span,#watch8-action-buttons{"+(d.h0&&d.h8?"display:none!important}":"}"),28);b.insertRule("#watch-header{"+(d.h0&&d.h8?"min-height:inherit}":"}"),29);b.insertRule(".view-count::after,.yt-lockup-meta-info::after{"+(d.a0&&d.a1?"content: \'\u2605\';margin-left:7px;padding:3px;cursor:pointer}": "}"),30);b.insertRule("#"+e[27]+"{width:100%;background-color:yellow;height:8px)}",31)}}function mb(){if(F)if(d.h0&&d.h4){var a=m("watch-discussion");a&&(a.parentElement.removeChild(a),delete null)}else d.c0&&d.c4&&xb();Qa();d.a0&&d.a1&&yb();d.a0&&d.a4&&Oa()}function ta(){if("complete"!=document.readyState)setTimeout(ta,500);else{if(k&&k.parentElement&&(D=k.parentElement,E=D.parentElement,Ca=E.parentElement,D.style.setProperty("box-shadow","none",g),ab(),d.cin&&(d.cina&&Da(),m("page").addEventListener("click", bb,!1),m("page").addEventListener("contextmenu",bb,!1)),setTimeout(cb,1E3,1),za)){var a=document.querySelector(".ytp-thumbnail-overlay");a&&a.firstElementChild&&(a.style.display=a.firstElementChild.style.display="",a.style.opacity=a.firstElementChild.style.opacity=1,a.addEventListener("click",function(){a.style.display="none"},!1))}d.pause&&setTimeout(zb,3E3,1)}}function bb(a){if(/page|player-mole-container|placeholder-player/.test(a.target.id)){var c=a.pageY;50<c&&c<k.offsetHeight+50&&(a&&"contextmenu"== a.type?Z(a):Da(a))}}function Wa(){var a=m("autoplay-checkbox");return a&&a.nextElementSibling&&a.nextElementSibling.firstElementChild?a.nextElementSibling.firstElementChild:null}function zb(){var a=Wa();a&&0<a.offsetWidth&&a.click()}function Ab(a){this.getAttribute("data-ma")?this.removeAttribute("data-ma"):d.loop&&(ga=d.loop=!1,(a=m(e[10]))&&a.removeAttribute("on"))}function cb(a){if(d.loop||d.pause&&!d.plist){var c=document.getElementsByClassName("toggle-autoplay");c&&0<c.length&&(c=c[0],c.classList.contains("yt-uix-button-toggled")&& (c.setAttribute("data-ma",!0),c.click()),a&&c.addEventListener("click",Ab,!1))}}function ia(){if(oa){clearInterval(oa);oa=0;var a=m(e[26]);a&&a.parentElement.removeChild(a)}}function Bb(a,c){function b(){if(!g.paused&&100<g.videoWidth){R!=g.videoWidth&&(R=g.videoWidth,Z=g.videoHeight,F=parseInt(R/Cb),ja=1.4*D.offsetHeight*B,W=D.offsetTop-ja,V=D.offsetLeft-ja,N=D.offsetWidth+ja+ja,O=D.offsetHeight+ja+ja,X=parseInt(R/db),P=parseInt(Z/db),da=P*B,G=P*E,ba=h(0),ca=h(1),k.style.setProperty("top",W+"px"), k.style.setProperty("left",V+"px"),k.width=N,k.height=O,u.style.setProperty("top",0),u.style.setProperty("left",0),u.width=X,u.height=P);Y.drawImage(g,0,0,R,Z,0,0,X,P);d();p=Y.getImageData(0,0,X,P);for(var a=p.data,c=ga,b,e,m,v,n=0,s=a.length;n<s;n+=4)b=a[n],e=a[n+1],m=a[n+2],v=Math.sqrt(b*b*0.299+e*e*0.587+m*m*0.114),a[n]=v+(b-v)*c,a[n+1]=v+(e-v)*c,a[n+2]=v+(m-v)*c;a=p.data;c=X;b=P;e=F;var Q,C,q,w,x,$,y,z,A,S,T,U,H,I,J,K,L,M,ka;Q=e+e+1;var aa=c-1;m=b-1;v=e+1;var n=v*(v+1)/2,fa,r=s=new f;for(q=1;q< Q;q++)r=r.next=new f,q==v&&(fa=r);r.next=s;r=q=null;$=x=0;var la=ha[e],ma=ia[e];for(C=0;C<b;C++){H=I=J=y=z=A=0;S=v*(K=a[x]);T=v*(L=a[x+1]);U=v*(M=a[x+2]);y+=n*K;z+=n*L;A+=n*M;r=s;for(q=0;q<v;q++)r.r=K,r.g=L,r.b=M,r=r.next;for(q=1;q<v;q++)w=x+((aa<q?aa:q)<<2),y+=(r.r=K=a[w])*(ka=v-q),z+=(r.g=L=a[w+1])*ka,A+=(r.b=M=a[w+2])*ka,H+=K,I+=L,J+=M,r=r.next;q=s;r=fa;for(Q=0;Q<c;Q++)a[x]=y*la>>ma,a[x+1]=z*la>>ma,a[x+2]=A*la>>ma,y-=S,z-=T,A-=U,S-=q.r,T-=q.g,U-=q.b,w=$+((w=Q+e+1)<aa?w:aa)<<2,H+=q.r=a[w],I+=q.g= a[w+1],J+=q.b=a[w+2],y+=H,z+=I,A+=J,q=q.next,S+=K=r.r,T+=L=r.g,U+=M=r.b,H-=K,I-=L,J-=M,r=r.next,x+=4;$+=c}for(Q=0;Q<c;Q++){I=J=H=z=A=y=0;x=Q<<2;S=v*(K=a[x]);T=v*(L=a[x+1]);U=v*(M=a[x+2]);y+=n*K;z+=n*L;A+=n*M;r=s;for(q=0;q<v;q++)r.r=K,r.g=L,r.b=M,r=r.next;w=c;for(q=1;q<=e;q++)x=w+Q<<2,y+=(r.r=K=a[x])*(ka=v-q),z+=(r.g=L=a[x+1])*ka,A+=(r.b=M=a[x+2])*ka,H+=K,I+=L,J+=M,r=r.next,q<m&&(w+=c);x=Q;q=s;r=fa;for(C=0;C<b;C++)w=x<<2,a[w]=y*la>>ma,a[w+1]=z*la>>ma,a[w+2]=A*la>>ma,y-=S,z-=T,A-=U,S-=q.r,T-=q.g,U-= q.b,w=Q+((w=C+v)<m?w:m)*c<<2,y+=H+=q.r=a[w],z+=I+=q.g=a[w+1],A+=J+=q.b=a[w+2],q=q.next,S+=K=r.r,T+=L=r.g,U+=M=r.b,H-=K,I-=L,J-=M,r=r.next,x+=c}Y.putImageData(p,0,0);ea&&d();l.drawImage(u,0,0,X,P,0,0,N,O)}}function d(){Y.fillStyle=s;Y.fillRect(da,da,X-da-da,P-da-da);Y.fillStyle=ba;Y.fillRect(0,0,X,P);Y.fillStyle=ca;Y.fillRect(0,0,X,P)}function h(a){var c=a?X:P;a=Y.createLinearGradient(0,0,a?X:0,a?0:P);a.addColorStop(0,s);a.addColorStop(G/c,s);a.addColorStop(da/c,C);a.addColorStop((c-da)/c,C);a.addColorStop((c- G)/c,s);a.addColorStop(1,s);return a}function f(){this.a=this.b=this.g=this.r=0;this.next=null}if(n){var g,k,u,l,Y,p,v=c[0],db=c[1],Cb=c[7],ja,da,B=c[2],E=c[3],F,G,N,O,X,P,V,W,s=c[4],C=c[5],ea=c[8],ga=c[6],ba,ca,R,Z;k=m(e[26]);g=D.querySelector("video");k&&a.removeChild(k);u=document.createElement("canvas");k=document.createElement("canvas");k.style.setProperty("position","absolute");u.style.setProperty("position","absolute");k.id=e[26];a.insertBefore(k,a.firstElementChild);l=k.getContext("2d");Y= u.getContext("2d");oa=setInterval(b,v);var ha=[513,513,457,513,329,457,336,513,406,329,272,457,389,336,293,513,455,406,365,329,299,272,497,457,421,389,361,336,313,293,274,513,483,455,429,406,384,365,346,329,313,299,285,272,260,497,476,457,438,421,405,389,375,361,348,336,324,313,303,293,283,274,266,513,498,483,469,455,442,429,418,406,395,384,374,365,355,346,338,329,321,313,306,299,292,285,279,272,266,260,508,497,486,476,466,457,447,438,429,421,413,405,397,389,382,375,368,361,355,348,342,336,330,324, 319,313,308,303,298,293,288,283,279,274,270,266,262,513,506,498,490,483,476,469,462,455,448,442,436,429,423,418,412,406,400,395,390,384,379,374,369,365,360,355,351,346,342,338,333,329,325,321,317,313,310,306,302,299,295,292,288,285,282,279,275,272,269,266,263,260,258,508,502,497,492,486,481,476,471,466,461,457,452,447,443,438,434,429,425,421,417,413,409,405,401,397,393,389,386,382,378,375,371,368,364,361,358,355,351,348,345,342,339,336,333,330,327,324,321,319,316,313,311,308,305,303,300,298,295,293, 290,288,286,283,281,279,276,274,272,270,268,266,264,262,260],ia=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23, 23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24]}}function Db(a){eb("GET",N+"colors.json?v="+(new Date).getTime(),null,"responseText",function(c){a.colors=c;a.custom=d.cins;Ea(0,d.cinc)})}function fb(a){a.preventDefault(); a.stopPropagation();a=m(e[24]);var c=a.offsetLeft;visible_width=a.parentElement.offsetWidth;step=this.left?visible_width-46:-visible_width-46;max=a.scrollWidth-visible_width;c-=step;c<-max&&(c=-max);0<c&&(c=0);a.style.setProperty("margin-left",c+"px",g)}function Ea(a,c){a&&a.stopPropagation();var b=m(e[21]);if(b)if(62<c)ia(),D.style.setProperty("box-shadow","none",g),ia(),b.style.setProperty("background",b.custom,g),b.ind=63;else{var d=a?parseInt(this.ind):c,h=b.colors;try{h=JSON.parse(h)}catch(f){return}d>= h.items.length&&(d=0);b.ind=d;d=h.items[d];d.cinema&&p(b,d.cinema,1);d.movie?p(D,d.movie,1):D.style.setProperty("box-shadow","none",g);d.fx0?Bb(b,d.fx0):ia()}}function Eb(a){a.stopPropagation();ia();a=m(e[21]);var c=m(e[25]);a.custom=a.custom?a.custom:"linear-gradient(SkyBlue, Tan)";a.ind=63;c.style.setProperty("display","block",g);c.firstElementChild.value=a.custom;D.style.setProperty("box-shadow","none",g);a.style.setProperty("background",a.custom,g)}function Fa(a){a.stopPropagation();a=m(e[21]); var c=a.style.getPropertyValue("background"),b;a.style.setProperty("background",this.value,g);b=a.style.getPropertyValue("background");c!=b&&(a.custom=b)}function gb(a){a.preventDefault();a.stopPropagation();m(e[16]).style.setProperty("display","none",g);a=m(e[21]);var c=m(e[22]);if(c)0<c.offsetHeight?(m(e[25]).style.setProperty("display","none",g),c.style.setProperty("display","none",g),m(e[16]).style.setProperty("display","block",g),62<a.ind&&G(s,JSON.stringify({id:4,name:"cins",value:a.custom})), G(s,JSON.stringify({id:4,name:"cinc",value:parseInt(a.ind)}))):c.style.setProperty("display","block",g);else{var b=a.colors;try{b=JSON.parse(b)}catch(d){return}c=document.createElement("div");c.id=e[22];p(c,["position","absolute","top",0,"left",0,"width","100%","height","24px","line-height","24px","background","#AAAAAB","overflow","hidden"],1);c.addEventListener("click",function(a){a.preventDefault();a.stopPropagation()},!1);var h,f,k,l;h=document.createElement("button");h.textContent="#";h.title= "Set your own CSS background";p(h,["position","absolute","top",0,"left",0,"width","36px","height","24px","border","solid 1px #AAAAAB","background","#CC181E","color","#fff"],1);c.appendChild(h);h.addEventListener("click",Eb,!1);h=document.createElement("div");h.id=e[23];p(h,["display","block","position","absolute","top",0,"left","36px","right","72px"],1);c.appendChild(h);f=document.createElement("button");f.textContent="\u25c0";f.left=1;p(f,["position","absolute","top",0,"left",0,"width","36px","height", "24px","background","#CC181E","color","#fff","border","solid 1px #AAAAAB"],1);h.appendChild(f);f.addEventListener("click",fb,!1);f=document.createElement("div");p(f,["position","absolute","top",0,"left","36px","right","36px","height","24px","overflow","hidden"],1);h.appendChild(f);k=document.createElement("div");k.id=e[24];p(k,["width",46*b.items.length+"px","background","#333","transition","margin-left .3s"],1);f.appendChild(k);for(var u=0,n=b.items.length;u<n;u++)f=b.items[u],l=document.createElement("button"), l.title=u+1+". "+f.title,l.ind=u,p(l,f.preview,1),p(l,"float left width 46px height 26px".split(" "),1),k.appendChild(l),l.addEventListener("click",Ea,!1);k.insertBefore(l,k.firstElementChild);k.insertBefore(k.lastElementChild,k.firstElementChild);f=document.createElement("button");f.textContent="\u25b6";p(f,["position","absolute","top",0,"right",0,"width","36px","height","24px","background","#CC181E","color","#fff","border","solid 1px #AAAAAB"],1);h.appendChild(f);f.addEventListener("click",fb,!1); h=document.createElement("div");h.id=e[25];p(h,["display","none","position","absolute","top",0,"left",0,"right","72px","height","24px"],1);c.appendChild(h);f=document.createElement("input");f.type="text";p(f,["width","99%","margin","0","position","absolute","top","0","left","0","bottom","0","padding","0 12px","font","16px Helvetica,Arial,sans-serif","color","#ccc","background","#333","border",0],1);h.appendChild(f);f.spellcheck=!1;f.addEventListener("keyup",Fa,!1);f.addEventListener("paste",Fa,!1); f.addEventListener("cut",Fa,!1);h=document.createElement("button");h.textContent="Save";p(h,["position","absolute","top",0,"right",0,"width","72px","height","24px","background","#CC181E","color","#fff","border","solid 1px #AAAAAB","font-weight","900"],1);c.appendChild(h);h.addEventListener("click",gb,!1);a.appendChild(c)}}function pa(a,c){var b=document.createElement("a"),d=m(e[16]);d&&(Ga(b,["href",a,"target","_blank","role","button","aria-pressed","false"]),p(b,"display inline-block width 48px height 32px".split(" "), 1),b.addEventListener("click",c?c:function(a){a.stopPropagation()},!1),d.appendChild(b))}function Ha(a){var c=m(e[21]),b=m("content");ia();window.scrollTo(0,0);(a=m(e[25]))&&a.style.setProperty("display","none",g);(a=m(e[22]))&&a.style.setProperty("display","none",g);p(b,["position",l,"top",l,"left",l],1);p(D,["top",l,"left",l,"width",l,"height",l,"margin-left",l,"padding-left",l,"z-index",l,"position",l,"background",l,"box-shadow","none"],1);p(E,["height",l,"padding-left",l],1);p(Ca,["max-width", l,"min-width",l],1);if(a=m("page-container")){a.style.setProperty("z-index",l);do(a=a.previousElementSibling)&&a.style.setProperty("display",l);while(a)}Ia(["placeholder-playlist","placeholder-player","player-playlist","footer-container","alerts","gb","guide","yt-hitchhiker-feedback","yt-uix-clickcard-card1","player-branded-banner","watch7-creator-bar",e[0]],"display",l);k.style.setProperty("background","#000",g);(a=m("watch7-sidebar"))&&p(a,["margin-top",l,"top",l],1);(a=k.querySelector(".video-annotations"))&& a.style.setProperty("display",l,g);c.style.setProperty("display","none",g);d.cinf&&G(s,\'{"id":11}\');n&&k.setSize();$=!1}function Da(a){a&&(a.preventDefault(),a.stopPropagation());if(!ha)if($)Ha();else{window.scrollTo(0,0);var c;k.style.setProperty("box-shadow","none",g);k.style.setProperty("background","none",g);Ia(["placeholder-playlist","placeholder-player","player-playlist","footer-container","alerts","gb","guide","yt-hitchhiker-feedback","yt-uix-clickcard-card1","watch7-creator-bar",e[0]],"display", "none");if(c=m("page-container")){c.style.setProperty("z-index","auto",g);do(c=c.previousElementSibling)&&c.style.setProperty("display","none",g);while(c)}(c=m("watch7-sidebar"))&&p(c,["-webkit-transition","none","transition","none","margin-top",0,"top",0],1);(a=m(e[21]))?(Ea(0,d.cinc),m(e[16]).style.setProperty("display","block",g)):(p(m("page"),["-webkit-transition","none","transition","none"],1),a=document.createElement("div"),a.id=e[21],p(a,["z-index",2147483648,"position","absolute","top",0, "left",0,"right",0,"bottom",0,"overflow","hidden"],1),document.body.insertBefore(a,document.body.firstElementChild),Db(a),a.addEventListener("click",Ha,!1),a.addEventListener("contextmenu",Z,!1),m(e[16])||(c=document.createElement("div"),c.id=e[16],p(c,["position","absolute","top","4px","right","8px","background-image","url("+N+"i/btns.png)","width","192px","height","32px","overflow","hidden"],1),a.appendChild(c),pa("http://www.chromeactions.com/"),pa("http://www.chromeactions.com/magic-options.html"), pa("#",hb),pa("#",gb)));Fb();a.style.setProperty("display","block",g);d.cinf&&G(s,\'{"id":11, "v":1}\');n&&k.setSize();$=!0}}function Fb(){var a,c,b,e,h,f;h=d.cini;var g=m("content");d.cinf?(a=screen.width-10,c=screen.height):(a=window.innerWidth-10,c=window.innerHeight);E.vh||Gb();b=E.vw;e=E.vh;h=0==h?0.4:1==h?0.3:0.2;b/e>a/c?(h=parseInt(a-a*h),f=parseInt(e*h/b)):(f=parseInt(c-c*h),h=parseInt(b*f/e));b=parseInt((c-f)/2);e=parseInt(a/2-h/2);p(m("page"),["transition","none"],1);p(Ca,["max-width","none", "min-width","none"],1);p(E,["-webkit-transition","none","transition","none","height",c+"px","padding-left",0],1);p(D,["top",b+"px","left",e+"px","width",h+"px","height",f+"px","margin-left",0,"padding-left",0,"z-index",2147483648,"position","absolute","background","none"],1);setTimeout(function(){$&&p(g,["position","absolute","top",c+"px","left",a/2-g.offsetWidth/2+"px"],1)},500)}function Gb(){if(B.config.args.adaptive_fmts){var a=B.config.args.adaptive_fmts,c=a.indexOf("size=");-1<c&&(c+=5,E.vw= parseInt(a.slice(c)),isNaN(E.vw)||(c=a.indexOf("x",c),-1<c&&(E.vh=parseInt(a.slice(c+1))),isNaN(E.vh)&&(E.vh=0)))}E.vh||(E.vw=1920,E.vh=1080)}function Z(a){a.stopPropagation();var c,b,d,h,f,wa,ya,u=m(e[20]);u||(u=document.createElement("iframe"),Ga(u,["id",e[20],"scrolling","no","frameborder",0]),p(u,["display","block","z-index",2147483648,"bottom","48px","right","16px","width","22px","height","17px","position","fixed","background","url("+N+"i/col.png)"],1),document.body.appendChild(u),u.contentWindow.addEventListener("click", Z,!1));ha?(ya=f=wa=marginLeft=paddingLeft=h=c=b=d=pos=l,u.style.setProperty("display","none",g),n&&D.removeEventListener("contextmenu",Z,!0),a&&"contextmenu"==a.type&&a.preventDefault(),ha=!1):(a.preventDefault(),$&&Ha(),c=window.innerWidth+"px",b=document.body.offsetHeight+"px",f=wa=marginLeft=paddingLeft=0,h=2147483648,pos="fixed",d="none",ya="hidden",u.style.setProperty("display","block",g),n&&D.addEventListener("contextmenu",Z,!0),ha=!0);Ia(["footer","yt-hitchhiker-feedback","watch7-main-container", "masthead-positioner"],"display",d,ha);p(D,["left",f,"top",wa,"margin-left",marginLeft,"padding-left",paddingLeft,"z-index",h,"position",pos,"width",c,"height",b],ha);document.body.style.setProperty("overflow",ya);n&&k.setSize()}function Hb(a){a.preventDefault();a.stopPropagation();(d.loop=ga=!ga)?this.setAttribute("on",l):this.removeAttribute("on");cb()}function Ib(a){a.stopPropagation();G(s,\'{"id":7}\')}function Jb(a){a.preventDefault();a.stopPropagation();a=n?document.getElementsByTagName("video")[0]: k;var c=[l,"contrast(125%) brightness(125%)","grayscale(20%) contrast(150%) brightness(150%)","grayscale(1)","sepia(1)","invert(1)","rotateY(180deg)","rotateX(180deg)"];ea++;7<ea&&(ea=0);5<ea?(a.style.setProperty("-webkit-filter",l,g),a.style.setProperty("-webkit-transform",c[ea],g)):(a.style.setProperty("-webkit-transform",l,g),a.style.setProperty("-webkit-filter",c[ea],g));this.title="Apply Filter;High Contrast;S-High Contrast;Grayscale;Sepia;Invert;H-Flip;V-Flip".split(";")[ea]}function hb(a){a.preventDefault(); a.stopPropagation();n?G(s,JSON.stringify({id:6})):alert("Currently this feature is not supported. You need to use HTML5 player. You can go to Magic options and enable HTML5 player.")}function ib(a){if("isTrusted"in a&&a.isTrusted){a.stopPropagation();a.preventDefault();var c;a=this.maSh;1==a?c="options.html":2==a&&(c="https://youtube.com/subscription_center?add_user=StrukoffBrothers");G(s,\'{"id":2,"url":"\'+c+\'"}\')}}function jb(){var a=m(e[1]),c=m(e[2]);a||qa();c||ab();setTimeout(jb,3700)}function ab(){var a= m(e[2]);if(!a){var c=m("watch7-content"),b;(a=navigator.mimeTypes["application/x-shockwave-flash"])&&(a=a?a.enabledPlugin.filename:null);b="pepflashplayer.dll"==a||"PepperFlashPlayer.plugin"==a||"libpepflashplayer.so"==a;if(c){a=document.createElement("div");a.id=e[2];V(a,e[5],e[4],0,ib,1);V(a,e[6],e[4],0,ib,2);V(a,e[7],e[4],"Magic Options",Ib);d.cin&&V(a,e[8],e[4],"Cinema Mode",Da);V(a,e[9],e[4],"Expand",Z);V(a,e[10],e[4],"Repeat",Hb,0,d.loop?"on":0);if(n||b)d.f0&&V(a,e[13],e[4],"Apply Filter",Jb), n&&(V(a,e[12],e[4],"Capture",hb),d.mrl&&(C=new Ra));V(a,e[14],e[4],"Click to show/hide video info");c.insertBefore(a,c.firstElementChild);setTimeout(jb,7E3)}}}function V(a,c,b,d,h,f,e){var g=document.createElement("div");g.id=c;b&&(g.className=b);d&&(g.title=d);e&&g.setAttribute(e,l);f&&(g.maSh=f);a.appendChild(g);h&&g.addEventListener("click",h,!0)}function Ra(){function a(a){a.preventDefault();a.stopPropagation();clearInterval(n);var f=parseInt(k.getCurrentTime()),e=a.offsetX,g=h.offsetWidth,p= a.target.offsetWidth;m=l.length;p<g&&(e+=a.target.offsetLeft);a=parseInt(e*u/g);e=b(a);if(-1<e)l.splice(e,2);else{f>a&&(e=f,f=a,a=e);for(e=0;e<m;e+=2){var g=l[e],p=l[e+1],s=!1;g>=f&&p<=a?s=!0:g>=f&&g<=a?(a=p,s=!0):p>=f&&p<=a&&(f=g,s=!0);s&&(l[e]=-1,l[e+1]=-1)}l=l.filter(function(a){return-1<a});m=l.length;l.push(f,a)}m=l.length;l.sort(function(a,c){return a==c?0:a>c?1:-1});d();0<m&&(n=setInterval(c,1E3))}function c(){for(var a=k.getCurrentTime(),c,b=1,d=m;b<d;b+=2)if(c=l[b],a>c&&a<c+2){k.seekTo(l[b+ 1<m?b+1:0]);break}}function b(a){for(var c=0;c<m;c+=2)if(a>=l[c]&&a<=l[c+1])return c}function d(){var a,c,b=e.width=e.offsetWidth;a=e.height=e.offsetHeight;g.clearRect(0,0,b,a);if(m){g.lineWidth=8;g.strokeStyle="rgba(0, 250, 0,.5)";for(var f=0,h=1;f<m;f+=2,h+=2)a=l[f]*b/u,c=l[h]*b/u,1>c-a&&(a-=2,c+=2),g.moveTo(a,4),g.lineTo(c,4),g.stroke()}}var h,f,e,g,u,l=[],m,n;h=document.querySelector(".ytp-progress-bar-container");f=h.querySelector(".html5-scrubber-button,.ytp-scrubber-button");null!=h&&null!= f&&(e=document.createElement("canvas"),g=e.getContext("2d"),u=k.getDuration(),l=[],p(e,["position","absolute","width","100%","height","8px","bottom",0,"z-index",window.getComputedStyle(f,null).getPropertyValue("z-index")],!1),f.parentElement.insertBefore(e,f),h.addEventListener("contextmenu",a,!1));this.uninit=function(){clearInterval(n);h.removeEventListener("contextmenu",a,!1);e.parentElement.removeChild(e)}}function xb(){function a(f){e=b.getBoundingClientRect();128<h-e.top&&(window.removeEventListener("wheel", a,!1),d.c4&&setTimeout(c,2E3))}function c(){var a=document.getElementById("yt-comments-order-button");a?(a.click(),(a=document.getElementById("comments-order-popup"))&&a.firstElementChild&&a.firstElementChild.nextElementSibling?a.firstElementChild.nextElementSibling.click():setTimeout(c,1E3)):setTimeout(c,2E3)}var b=m("watch-discussion"),e,h=window.innerHeight;window.addEventListener("wheel",a,!1)}function Qa(){d.c0&&d.c1||d.a0&&d.a2?aa||(aa=new Kb):aa&&(aa.uninitialize(),aa=null)}function Kb(){function a(a){"img"== a.target.localName&&24<a.target.width&&(a.target.addEventListener("mouseout",b,!1),c(a));a.preventDefault()}function c(a){e&&(clearTimeout(e),e=0);var c=a.target;0<c.parentElement.className.indexOf("hover")&&c.parentElement.classList.remove("g-hovercard");e=setTimeout(function(){var a="center",b;if((b=c)&&void 0!=b){var f=0,e=0;if(b.offsetParent){do f+=b.offsetLeft,e+=b.offsetTop;while(b=b.offsetParent)}b=[f,e]}else b=[0,0];var k=b[0],m=b[1],n=c.offsetWidth,t=c.offsetHeight,e=0,s,f=window.scrollY; if(b=c.src)d.c0&&d.c1&&(/s\\d+-c-k/.test(b)?(b=b.replace(/s\\d+-c-k/,"s384-c-k"),s=e=384,a="center"):/sz=[0-9]+/.test(b)&&(b=b.replace(/sz=[0-9]+/,"sz=384"),e=s=384,a="center")),0==e&&d.a0&&d.a2&&(/default\\.jpg/.test(b)?(b=b.replace(/(hq|mq|)default\\.jpg/,"hqdefault.jpg"),e=480,s=270,a="-45px"):/default\\.webp/.test(b)&&(b=b.replace(/(hq|mq|)default\\.webp/,"hqdefault.webp"),e=480,s=270,a="-45px")),0!=e&&(k<window.innerWidth/2?(n=k+n+32,k="magic-tip-left"):(n=k-e-32,k="magic-tip-right"),m=m-parseInt((s- t)/2)-5,t=parseInt(s/2),m<f&&(t-=f-m,m=f),0>t&&(t=5),f=n,t+="px",a="url("+b+") center "+a+"/100% auto no-repeat",h?(b=h.firstElementChild,n=h.lastElementChild,t&&b.style.setProperty("top",t,g)):(h=document.createElement("div"),b=document.createElement("div"),n=document.createElement("iframe"),h.className="magic-tip",Ga(n,["scrolling","no","frameborder",0]),h.appendChild(b),h.appendChild(n),document.body.appendChild(h)),p(h,["top",m+"px","left",f+"px","height",s+"px"],1),p(n,["width",e+"px","height", s+"px","background",a,"display","block"],1),k?(b.style.setProperty("display",l),b.className=k):b.style.setProperty("display","none",g),h.style.setProperty("display","block",g))},500)}function b(a){a.target.removeEventListener("mouseout",b,!1);e&&(clearTimeout(e),e=0);h&&h.style.setProperty("display","none",g)}var e,h;document.body.addEventListener("mouseover",a,!1);this.uinitialize=function(){document.body.removeEventListener("mouseover",a,!1)}}function yb(){function a(a){do if((a=a.parentElement)&& ("li"==a.localName||-1<a.className.search(/yt-lockup-video|video-list-item/)))break;while(a);if(a&&(a=a.querySelector(".yt-thumb-default,.yt-uix-simple-thumb-related,.video-thumb"))){var b,d,e=a.querySelector("img");e&&(a.img_w=e.width,b=a.dataset.vid,b||(b=e.getAttribute("src"))&&(b=b.split("/")[4]));11==b.length&&eb("GET","https://www.googleapis.com/youtube/v3/videos?part=statistics&id="+b+"&key=AIzaSyC6wA79STIEv1tewqxtewjwbTMP6uOKLF8",null,"responseText",function(b){if(b){try{b=JSON.parse(b)}catch(e){return}if(b&& b.items&&0<b.items.length&&(items=b.items,d=items[0].statistics)){b=a.parentElement;var h=document.createElement("div"),g=document.createElement("div");h.className="magic-ratings";g.className="magic-likes";h.style.width=a.img_w+"px";var k=parseInt(d.likeCount)||0,m=parseInt(d.dislikeCount)||0,m=parseInt(k+m),n=d.commentCount||0,p=m?k/m:0;g.style.setProperty("-webkit-transform","scaleX(0)",l);b.title=(p?(100*p).toFixed(1)+"% of likes from "+m+" votes":l)+(n?"\\n"+n+" comments":l);h.appendChild(g);b.appendChild(h); setTimeout(function(){g.style.setProperty("-webkit-transform","scaleX("+p+")",l)},100)}}})}}document.body.addEventListener("click",function(c){var b=c.target;-1<b.className.search(/view-count|yt-lockup-meta/)&&(c.stopPropagation(),c.preventDefault(),b.rating||(b.rating=!0,a(b)))},!1)}function eb(a,c,b,d,e){var f=new XMLHttpRequest;f.onload=function(a){200==this.status?e(this[d]):e()};f.onerror=e;f.onabort=e;f.open(a,c,!0);f.send(b)}function m(a){return document.getElementById(a)}function Ga(a,c){for(var b= 0,d=c.length;b<d;b+=2)a.setAttribute(c[b],c[b+1])}function p(a,c,b){if(a){var d=0,e=c.length;for(b=b?g:null;d<e;d+=2)a.style.setProperty(c[d],c[d+1],b)}}function Ia(a,c,b,d){for(var e,f=0,k=a.length;f<k;f++)(e=m(a[f]))&&e.style.setProperty(c,b,d?g:l)}var Ja={};Object.defineProperty(window,"ytspf",{get:function(){Ja.enabled=!1;return Ja},set:function(a){Ja=a}});var d,N,s="'+uniqueEvtName+
'",n,Va,xa=!1,kb,k,ga,ba,W,ca,Ba,R,O,na,B,aa,D,E,Ca,$,ha,l="",ea=0,oa,C,e=[],za,g="important",F="/watch"==window.location.pathname, Pa=window.location.pathname.match(/\\/watch|\\/user|\\/channel|\\/channels/);window.sessionStorage&&window.sessionStorage.mafy&&La(window.sessionStorage.mafy);window.addEventListener("mafy",function(a){La(a.detail)},!1);try{Object.defineProperty(window,"ytplayer",{get:function(){d&&B&&B.config&&B.config.args&&(kb||(kb=!0,n=B.config.html5,d.pt&&(d.pti&&!n?(n=B.config.html5=!0,delete B.config.args.ad_module,delete B.config.args.ad3_module):!d.pti&&n&&(n=B.config.html5=!1))),fa(B.config.args));return B}, set:function(a){B=a},configurable:!0,enumerable:!0})}catch(Lb){n=!0,Ka()}window.__689ps_=function(a){1==a?(W&&(W=!1,k.pauseVideo()),ba&&Xa()):0==a&&Ya()}})();';
document.documentElement.appendChild(e_script);document.documentElement.removeChild(e_script);window.addEventListener(uniqueEvtName,function(d){var e=JSON.parse(d.detail);e&&e.hasOwnProperty("id")&&(6==e.id?(frameCapturer||(frameCapturer=new FrameCapturer),frameCapturer.capture()):chrome.runtime.sendMessage(d.detail))},!1);
function FrameCapturer(){function d(a,g,c){b.w!=g&&(b.w=f.width=g,b.h=f.height=c);h.drawImage(a,0,0);k=h.getImageData(0,0,g,c).data;b.rgba&&window.URL.revokeObjectURL(b.rgba);b.rgba=window.URL.createObjectURL(new Blob([k],{type:"application/octet-stream"}));chrome.runtime.sendMessage(b)}function e(){window.fetch("https://i.ytimg.com/vi/"+b.vid+"/maxresdefault.jpg",{method:"GET"}).then(function(a){return a.blob()}).then(function(a){if(a){var b=window.URL.createObjectURL(new Blob([a],{type:"application/octet-stream"})),
c=new Image;c.onload=function(){window.URL.revokeObjectURL(b);d(c,c.width,c.height)};c.src=b}})}var b={id:6},a,f,h,k;b.t=encodeURIComponent(document.title.slice(0,document.title.length-10));a=document.body.querySelector('meta[itemprop="videoId"]');b.vid=a?a.getAttribute("content"):"";a=document.getElementById("eow-reuse");b.lic=a?a.textContent:"";if(a=document.querySelector("video"))f=document.createElement("canvas"),h=f.getContext("2d");this.capture=function(){4==a.readyState?d(a,a.videoWidth,a.videoHeight):
e()}};
